# md2pic 功能说明文档

## 🎯 程序概述

**md2pic** 是一个专业的Markdown转图片工具，提供实时预览、可视化编辑和高质量图片导出功能。特别适用于创建社交媒体内容，如小红书、微博、朋友圈等平台的图文内容。

## 📱 界面布局

程序采用现代化的三栏布局设计：

```
┌─────────────────────────────────────────────────────────────┐
│                    顶部导航栏                                 │
├──────┬─────────────────────────────┬─────────────────────────┤
│ 左侧 │                           │                       │
│ 功能 │         可视化画布           │    Markdown编辑器      │
│ 面板 │       (中央区域)            │     + AI助手          │
│      │                           │                       │
└──────┴─────────────────────────────┴─────────────────────────┘
│                    底部状态栏                                 │
└─────────────────────────────────────────────────────────────┘
```

## 🛠️ 核心功能模块

### 1. Markdown编辑器 (右侧面板)

#### 基础编辑功能
- **实时编辑**: 支持标准Markdown语法的实时输入
- **语法高亮**: 提供Markdown语法的可视化高亮显示
- **自动保存**: 编辑内容的本地缓存和恢复

#### 文件操作
- **文件导入**: 
  - 支持 `.md` 和 `.markdown` 格式
  - 拖拽导入功能
  - 文件选择器导入
- **文件导出**: 将编辑内容导出为 `.md` 文件

#### 快捷操作
- 顶部工具栏的"导入"和"导出"按钮
- 支持拖拽文件到编辑器区域

### 2. 可视化画布 (中央区域)

#### 实时渲染
- **即时预览**: Markdown内容实时渲染为可视化元素
- **元素类型支持**:
  - 标题 (H1, H2, H3)
  - 段落文本
  - 粗体文本
  - 列表 (有序、无序)
  - 引用块
  - 代码块
  - 表格

#### 拖拽编辑
- **元素选择**: 点击选中任意可视化元素
- **拖拽移动**: 鼠标拖拽调整元素位置
- **尺寸调整**: 8个方向的缩放手柄
- **智能对齐**: 拖拽时显示对齐辅助线
- **就地编辑**: 双击元素进入文本编辑模式

#### 交互操作
- **键盘快捷键**:
  - `Delete` - 删除选中元素
  - `Ctrl+Z` - 撤销操作
  - `Ctrl+Y` - 重做操作
  - `Enter` - 保存编辑
  - `Escape` - 取消编辑

#### 页面导航
- 顶部显示当前页码和总页数
- "上一页"/"下一页"按钮快速切换

### 3. 功能控制面板 (左侧)

左侧采用图标式菜单设计，包含7个主要功能模块：

#### 3.1 添加元素面板 📝
- **文本元素**: 添加标题、段落、列表等
- **快速插入**: 预设常用元素模板
- **位置控制**: 指定新元素的插入位置

#### 3.2 页面分割面板 📄
- **智能分页**: 基于Markdown标题层级自动分页
- **分割级别选择**:
  - H1分割: 不分页，所有内容在一页
  - H2分割: 遇到H1或H2时分页
  - H3分割: 遇到H1、H2或H3时分页
- **自动分页开关**: 可开启/关闭自动分页功能
- **页面预览**: 显示分页结果和页面数量

#### 3.3 背景设置面板 🎨
- **背景类型**:
  - 纯色背景
  - 渐变背景 (线性/径向)
- **渐变方向**: 8种渐变方向选择
- **颜色选择器**: 支持自定义颜色
- **装饰效果**:
  - 边框设置 (宽度、颜色、样式、圆角)
  - 阴影效果 (偏移、模糊、颜色、透明度)
  - 图案装饰 (点状、网格、斜线)
  - 装饰框架 (简单、优雅、现代、复古)
- **随机背景**: 一键生成随机美观背景

#### 3.4 画布格式面板 📐
- **预设格式**:
  - 小红书: 1080×1440
  - 微博: 1080×1080
  - 微信朋友圈: 1080×1260
  - Instagram: 1080×1080
  - Twitter: 1200×675
- **自定义尺寸**: 支持任意宽高设置
- **画布缩放**: 10%-200%的缩放比例
- **实时预览**: 格式变更即时生效

#### 3.5 样式设置面板 🎨
- **主题配色**:
  - 粉色系、蓝色系、绿色系
  - 紫色系、橙色系
- **全局样式**:
  - 字体大小调节 (0.5x-3x)
  - 行高设置 (紧密、正常、宽松)
  - 文字对齐 (左对齐、居中、右对齐)
- **标题颜色设置**:
  - H1标题颜色
  - H2标题颜色  
  - H3标题颜色
  - 粗体文字颜色
- **实时预览**: 样式调整即时反馈

#### 3.6 导出功能面板 📥
- **单页导出**:
  - 当前页面导出为PNG图片
  - 高质量截图 (2x分辨率)
  - 自动文件命名
- **批量导出**:
  - 所有页面打包为ZIP文件
  - 批量处理进度显示
  - 统一文件命名规则
- **导出设置**:
  - 格式选择: PNG、JPEG、WebP
  - 质量控制: 0.1-1.0可调节
  - 分辨率倍数: 0.5x-3x
  - 可选添加水印

#### 3.7 AI设置面板 🤖
- **API配置**:
  - API Key设置
  - 服务器地址配置
  - 模型选择
- **连接状态**: 显示AI助手启用状态
- **配置验证**: 检查API配置有效性

### 4. AI内容生成 (右下角)

#### 功能特点
- **极简设计**: 纯净的任务输入界面
- **直接覆盖**: AI生成内容直接替换编辑器内容
- **智能提示**: 优化的内容结构生成

#### 使用流程
1. 在输入框中描述需要生成的内容
2. 点击发送按钮
3. AI生成的内容自动覆盖编辑器原有内容
4. 新内容立即在画布上可视化显示

#### AI优化特性
- **结构合理**: 每级标题下内容不会过多
- **适合分页**: 内容分布均匀，便于自动分页
- **中文优化**: 专门针对中文内容生成

### 5. 元素编辑面板 (动态显示)

当选中画布上的元素时，左侧面板会自动切换为元素编辑模式：

#### 内容编辑
- **文本内容**: 直接修改元素文本内容
- **元素类型**: 显示当前元素类型

#### 样式控制
- **字体大小**: 滑动条精确调节
- **文字颜色**: 颜色选择器
- **背景颜色**: 可选背景色设置
- **文字对齐**: 左对齐、居中、右对齐

#### 位置和尺寸
- **坐标设置**: 精确的X/Y坐标控制
- **尺寸调整**: 宽度和高度设置
- **快捷调整**: +/- 按钮微调

#### 快捷操作
- **删除元素**: 一键删除当前元素
- **复制样式**: 快速复制样式到其他元素

## 🎯 使用场景

### 1. 社交媒体内容创作
- **小红书图文**: 利用预设尺寸创建精美笔记
- **微博长图**: 制作信息丰富的长图内容
- **朋友圈分享**: 创建吸引眼球的图文内容

### 2. 专业文档可视化
- **技术文档**: 将技术内容转换为易读图片
- **教学材料**: 制作课程内容图片
- **工作汇报**: 创建专业的汇报图片

### 3. 个人知识管理
- **学习笔记**: 美化笔记内容
- **知识卡片**: 制作知识点总结卡片
- **思维导图**: 创建结构化内容图片

## 🚀 高级功能

### 1. 撤销重做系统
- 保存最近50个操作状态
- 支持复杂的编辑历史管理
- 智能历史记录保存

### 2. 智能布局算法
- 动态计算内容密度
- 自适应调整行间距
- 智能垂直居中对齐
- 防止内容溢出

### 3. 高性能渲染
- 实时拖拽预览
- 防抖处理优化
- 虚拟化渲染支持

### 4. 多格式导出
- 高质量图片生成
- 批量处理能力
- 自定义导出参数

## ⌨️ 快捷键汇总

| 快捷键 | 功能 |
|--------|------|
| 双击元素 | 进入编辑模式 |
| Enter | 保存编辑/换行 |
| Escape | 取消编辑 |
| Delete | 删除选中元素 |
| Ctrl+Z | 撤销操作 |
| Ctrl+Y | 重做操作 |
| Ctrl+O | 导入文件 |
| Ctrl+S | 导出文件 |

## 💡 使用技巧

### 1. 内容创作技巧
- 使用标题层级组织内容结构
- 适当使用粗体和列表增强可读性
- 控制每段内容长度，便于分页

### 2. 布局优化技巧
- 利用拖拽功能精确控制元素位置
- 使用对齐辅助线保持布局整齐
- 合理使用背景和装饰增强视觉效果

### 3. 导出优化技巧
- 选择合适的画布尺寸匹配目标平台
- 调整导出质量平衡文件大小和清晰度
- 使用批量导出处理多页面内容

### 4. AI使用技巧
- 详细描述内容需求和风格要求
- 利用AI生成的结构化内容作为基础模板
- 结合手动编辑完善AI生成的内容

## 🔧 技术特性

- **现代化技术栈**: React 18 + TypeScript + Vite
- **响应式设计**: 适配不同屏幕尺寸
- **实时同步**: 编辑器与画布实时同步
- **本地存储**: 自动保存编辑状态
- **高性能**: 优化的渲染和交互性能

---

**md2pic** - 让Markdown内容更具视觉表现力 ✨